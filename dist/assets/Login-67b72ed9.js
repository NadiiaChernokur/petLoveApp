import{r as u,u as w,a as y,j as e,s as n,l as f}from"./index-f2e9fc0e.js";import{L as v,n as D,o as S,p as E,q as L,r as b,s as I,t as P,u as k,v as C,D as F,w as q,x as A,I as B,F as N,i as l,E as c,y as d,z as R,H as $,m as z}from"./Login.styled-2a5dcecc.js";import{F as H,E as h}from"./formik.esm-5d9c4ee9.js";import{c as J,a as m,Q as M,B as O}from"./ReactToastify-3d54d9f2.js";import{p as Q}from"./dog-26b760a7.js";const T=J().shape({email:m().required("Email is required").matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email"),password:m().min(7,"Password must be at least 7 characters").required("Password is required")}),G=()=>{const[o,g]=u.useState(!1),i=w(),p=y(),x=()=>{i("/register")},t=()=>{g(!o)},j=async s=>{var r;const a=await p(f(s));((r=a.error)==null?void 0:r.message)==="Rejected"&&a.payload.includes("401")?O("You are not authorized"):(localStorage.setItem("petLoveUserData",JSON.stringify(a.payload)),i("/profile"))};return e.jsxs(v,{children:[e.jsx(M,{toastStyle:{background:"#f30e0e",color:"white"}}),e.jsxs(D,{children:[e.jsx(S,{}),e.jsxs(E,{children:[e.jsx(L,{children:e.jsx("img",{src:Q})}),e.jsxs(b,{children:[e.jsxs(I,{children:[e.jsx(P,{children:"Rich"}),e.jsxs(k,{children:["Birthday:",e.jsx(C,{children:"21.09.2020"})]})]}),e.jsx(F,{children:"Rich would be the perfect addition to an active family that loves to play and go on walks. I bet he would love having a doggy playmate too!"})]})]})]}),e.jsxs(q,{children:[e.jsx(A,{children:"Log in"}),e.jsx(B,{children:"Welcome! Please enter your credentials to login to the platform:"}),e.jsx(H,{initialValues:{email:"",password:""},onSubmit:s=>{j(s),console.log(s)},validationSchema:T,children:({values:s,handleChange:a})=>e.jsxs(N,{children:[e.jsx(l,{id:"email",name:"email",placeholder:"Email",type:"email",value:s.email}),e.jsx(h,{name:"email",component:c}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(l,{id:"password",name:"password",placeholder:"Password",type:o?"text":"password",value:s.password,onChange:a}),o?e.jsx(d,{width:"32",height:"32",onClick:t,children:e.jsx("use",{href:`${n}#eye`})}):e.jsx(d,{width:"32",height:"32",onClick:t,children:e.jsx("use",{href:`${n}#eye-off`})}),e.jsx(h,{name:"password",component:c})]}),e.jsx(R,{type:"submit",children:"Log In"}),e.jsxs($,{children:["Donâ€™t have an account?",e.jsx(z,{onClick:x,children:"Register"})]})]})})]})]})};export{G as default};
